<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<body>
<div class="card" th:fragment="syncJobList(title, jobList, expandByDefault)" th:with="expandTarget=${title} + 'body'">
    <h5 class="card-header" data-toggle="collapse" th:data-target="'#' + ${expandTarget}" data-target="#activeSyncJobsBody">
        <a href="#">
            <span th:text="${title}">Active</span>

            <span class="badge badge-primary" th:text="${#lists.size(jobList)}">5</span>

            <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-chevron-down float-right" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/>
            </svg>
        </a>
    </h5>
    <div id="activeSyncJobsBody" th:id="${expandTarget}" class="collapse show" th:class="${expandByDefault && #lists.size(jobList) > 0? 'collapse show' : 'collapse'}">
        <div class="card-body">
            <!-- Existing Sync Jobs -->
            <table class="table">
                <thead>
                <tr>
                    <td>Name</td>
                    <td>Amount</td>
                    <td>Last sync time</td>
                </tr>
                </thead>
                <tbody>
                <tr th:each="syncJob : ${jobList}">
                    <!-- Errors here happen because of https://youtrack.jetbrains.com/issue/IDEA-132738
                         still applying to iteration -->
                    <td th:text="${syncJob.playlistName}">Most recent XXX Songs placeholder</td>
                    <td th:text="${syncJob.amountToSync}">250</td>
                    <td th:text="${syncJob.lastSync}">5 minutes ago</td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>

</body>
</html>